{"version":3,"sources":["Login.js","DashboardArticle.js","ArticleForm.js","Dashboard.js","Comment.js","ArticleDetail.js","router.js","index.js"],"names":["Login","params","useState","username","setUsername","password","setPassword","logIn","setLogIn","message","setMessage","error","setError","id","onSubmit","e","preventDefault","fetch","mode","method","headers","body","JSON","stringify","then","response","json","results","user","localStorage","setItem","token","signal","info","catch","type","name","placeholder","value","onChange","target","DashboardArticle","data","confirmDelete","setConfirmDelete","deleted","setDeleted","public","publicized","setPublicized","className","to","_id","title","DateTime","fromISO","timestamp","toLocaleString","day","month","hour","hour12","minute","onClick","Authorization","getItem","content","console","log","ArticleForm","setTitle","setContent","privatePost","setPrivatePost","errors","setErrors","success","setSuccess","push","post","htmlFor","checked","map","msg","Dashboard","setUser","loaded","setLoaded","articles","setArticles","newArticle","setNewArticle","useEffect","controller","AbortController","abort","authData","firstname","removeItem","window","location","href","article","Comment","commentDelete","setCommentDelete","articleId","ArticleDetail","author","setAuthor","setTimestamp","comments","setComments","isLoaded","setIsLoaded","useParams","result","lastname","comment","Routes","loggedIn","setLoggedIn","path","exact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fd0da8d8.chunk.js","sourcesContent":["import React, { useState } from 'react';\nimport CheckRoundedIcon from '@material-ui/icons/CheckRounded';\n\nexport default function Login(params) {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [logIn, setLogIn] = useState(false);\n  const [message, setMessage] = useState('');\n  const [error, setError] = useState('');\n\n  function logInCall(e) {\n    e.preventDefault();\n    fetch('/auth/login', {\n      mode: 'cors',\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        username: username,\n        password: password,\n      }),\n    })\n      .then((response) => response.json())\n      .then((results) => {\n        if (!results.user) {\n          setMessage(results.info.message);\n        } else if (results.user) {\n          localStorage.setItem('token', `Bearer ${results.token}`);\n          setLogIn(true);\n          params.signal(true);\n        }\n      })\n      .catch((error) => setError(error));\n  }\n\n  function handleUsernameChange(e) {\n    setUsername(e.target.value);\n  }\n\n  function handlePasswordChange(e) {\n    setPassword(e.target.value);\n  }\n\n  if (!logIn) {\n    return (\n      <div id=\"loginform\">\n        <h3>Log in</h3>\n        <form onSubmit={logInCall}>\n          <input\n            type=\"text\"\n            name=\"username\"\n            placeholder=\"Username...\"\n            value={username}\n            onChange={handleUsernameChange}\n          />\n          <input\n            type=\"password\"\n            name=\"password\"\n            placeholder=\"Password...\"\n            value={password}\n            onChange={handlePasswordChange}\n          />\n          <div id=\"loginbuttons\">\n            <button id=\"login\">\n              <CheckRoundedIcon />\n            </button>\n          </div>\n          <p id=\"message\">{message}</p>\n        </form>\n      </div>\n    );\n  } else if (error) {\n    return <p>Oops an error occured! {error}</p>;\n  } else {\n    return <p>Log in successful!</p>;\n  }\n}\n","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { DateTime } from 'luxon';\nimport DeleteRoundedIcon from '@material-ui/icons/Delete';\nimport CloseRoundedIcon from '@material-ui/icons/Close';\nimport PublicRoundedIcon from '@material-ui/icons/PublicRounded';\nimport LockRoundedIcon from '@material-ui/icons/LockRounded';\n\nexport default function DashboardArticle(params) {\n  let { data } = params;\n  const [confirmDelete, setConfirmDelete] = useState(false);\n  const [deleted, setDeleted] = useState(false);\n  const [publicized, setPublicized] = useState(data.public);\n\n  function changeDelete() {\n    if (confirmDelete) {\n      setConfirmDelete(false);\n    } else {\n      setConfirmDelete(true);\n    }\n  }\n\n  function deleteArticle() {\n    fetch(`/blog/posts/${data._id}`, {\n      mode: 'cors',\n      method: 'DELETE',\n      headers: {\n        Authorization: localStorage.getItem('token'),\n      },\n    })\n      .then((response) => response.json())\n      .then((results) => {\n        if (results.message) {\n          setDeleted(true);\n        }\n      })\n      .catch((error) => console.log(error));\n  }\n\n  function privatizeArticle() {\n    fetch(`/blog/posts/${data._id}`, {\n      mode: 'cors',\n      method: 'PUT',\n      headers: {\n        Authorization: localStorage.getItem('token'),\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        title: data.title,\n        content: data.content,\n        public: false,\n      }),\n    })\n      .then((response) => response.json())\n      .then((results) => {\n        data.public = false;\n        setPublicized(false);\n      })\n      .catch((error) => console.log(error));\n  }\n\n  function publicizeArticle() {\n    fetch(`/blog/posts/${data._id}`, {\n      mode: 'cors',\n      method: 'PUT',\n      headers: {\n        Authorization: localStorage.getItem('token'),\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        title: data.title,\n        content: data.content,\n        public: true,\n      }),\n    })\n      .then((response) => response.json())\n      .then((results) => {\n        data.public = true;\n        setPublicized(true);\n      })\n      .catch((error) => console.log(error));\n  }\n\n  if (!deleted) {\n    return (\n      <li className=\"article\" key={data._id}>\n        <Link to={'/article/' + data._id}>\n          <h4>{data.title}</h4>\n        </Link>\n        <p>\n          {DateTime.fromISO(data.timestamp).toLocaleString({\n            day: 'numeric',\n            month: 'long',\n            hour: 'numeric',\n            hour12: false,\n            minute: 'numeric',\n          })}\n        </p>\n        <div className=\"articlebuttons\">\n          {!data.public && !publicized ? (\n            <button onClick={publicizeArticle}>\n              <PublicRoundedIcon />\n            </button>\n          ) : (\n            ''\n          )}\n          {data.public && publicized ? (\n            <button onClick={privatizeArticle}>\n              <LockRoundedIcon />\n            </button>\n          ) : (\n            ''\n          )}\n          <button onClick={changeDelete}>\n            {confirmDelete ? <CloseRoundedIcon /> : <DeleteRoundedIcon />}\n          </button>\n          {confirmDelete ? (\n            <button onClick={deleteArticle}>Confirm</button>\n          ) : (\n            ''\n          )}\n        </div>\n      </li>\n    );\n  } else {\n    return '';\n  }\n}\n","import React, { useState } from 'react';\n\nexport default function ArticleForm(params) {\n  const [title, setTitle] = useState('');\n  const [content, setContent] = useState('');\n  const [privatePost, setPrivatePost] = useState(false);\n  const [errors, setErrors] = useState([]);\n  const [success, setSuccess] = useState('');\n\n  function submitForm(e) {\n    e.preventDefault();\n    fetch('/blog/posts', {\n      mode: 'cors',\n      method: 'POST',\n      headers: {\n        Authorization: localStorage.getItem('token'),\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        title: title,\n        content: content,\n        public: !privatePost,\n      }),\n    })\n      .then((response) => response.json())\n      .then((results) => {\n        if (results.errors) {\n          setErrors(results.errors);\n        } else {\n          setSuccess(results.message);\n          params.push(results.post);\n          setTitle('');\n          setContent('');\n          setPrivatePost(false);\n        }\n      })\n      .catch((error) => console.log(error));\n  }\n\n  function handleTitleChange(e) {\n    setTitle(e.target.value);\n  }\n\n  function handleContentChange(e) {\n    setContent(e.target.value);\n  }\n\n  function handlePrivateChange(e) {\n    setPrivatePost(e.target.checked);\n  }\n\n  return (\n    <form onSubmit={submitForm}>\n      <input\n        type=\"text\"\n        name=\"title\"\n        placeholder=\"Title...\"\n        onChange={handleTitleChange}\n        value={title}\n      />\n      <textarea\n        name=\"content\"\n        placeholder=\"Content...\"\n        onChange={handleContentChange}\n        value={content}\n      ></textarea>\n      <label htmlFor=\"public\">Private:</label>\n      <input\n        type=\"checkbox\"\n        name=\"public\"\n        value={privatePost}\n        onChange={handlePrivateChange}\n      />\n      <button>Post</button>\n      <ul>\n        {errors.map((error) => {\n          return <li>{error.msg}</li>;\n        })}\n      </ul>\n      {success}\n    </form>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport DashboardArticle from './DashboardArticle';\nimport ArticleForm from './ArticleForm';\nimport AddRoundedIcon from '@material-ui/icons/Add';\nimport CloseRoundedIcon from '@material-ui/icons/CloseRounded';\nimport ExitToAppRoundedIcon from '@material-ui/icons/ExitToAppRounded';\n\nexport default function Dashboard(params) {\n  const [user, setUser] = useState({});\n  const [error, setError] = useState('');\n  const [loaded, setLoaded] = useState(false);\n  const [articles, setArticles] = useState([]);\n  const [newArticle, setNewArticle] = useState(false);\n\n  useEffect(() => {\n    const controller = new AbortController();\n    const signal = controller.signal;\n    fetch('/blog/currentuser', {\n      mode: 'cors',\n      headers: {\n        Authorization: localStorage.getItem('token'),\n      },\n      signal,\n    })\n      .then((response) => response.json())\n      .then((results) => {\n        setUser(results);\n        controller.abort();\n      })\n      .catch((error) => {\n        setError(error);\n        setLoaded(true);\n        controller.abort();\n      });\n    fetch('/blog/posts/private', {\n      mode: 'cors',\n      headers: {\n        Authorization: localStorage.getItem('token'),\n      },\n    })\n      .then((response) => response.json())\n      .then((results) => {\n        setArticles(results);\n        setLoaded(true);\n      })\n      .catch((error) => {\n        setError(error);\n        setLoaded(true);\n      });\n  }, []);\n\n  function pushArticle(article) {\n    setArticles([...articles, article]);\n  }\n\n  function switchNewArticle() {\n    newArticle ? setNewArticle(false) : setNewArticle(true);\n  }\n\n  function logOut() {\n    localStorage.removeItem('token');\n    window.location.href = '/author-frontend';\n  }\n\n  if (!loaded) {\n    return <h2>Loading...</h2>;\n  } else if (error) {\n    return (\n      <div>\n        <h2>Oops! An error occured!</h2>\n        <p>{error}</p>\n      </div>\n    );\n  } else {\n    return (\n      <div>\n        <h2>Welcome {user.authData.firstname}!</h2>\n        <button id=\"logout\" onClick={logOut}>\n          <ExitToAppRoundedIcon />\n        </button>\n        <h3>Currently these are all of your articles:</h3>\n        <button onClick={switchNewArticle} name=\"new\" id=\"new\">\n          {newArticle ? <CloseRoundedIcon /> : <AddRoundedIcon />}\n        </button>\n        {newArticle ? <ArticleForm push={pushArticle} /> : ''}\n        <ul id=\"articles\">\n          {articles.map((article) => {\n            return <DashboardArticle key={article._id} data={article} />;\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n","import React, { useState } from 'react';\nimport DeleteRoundedIcon from '@material-ui/icons/Delete';\nimport CloseRoundedIcon from '@material-ui/icons/Close';\nimport { DateTime } from 'luxon';\n\nexport default function Comment(params) {\n  const [commentDelete, setCommentDelete] = useState(false);\n  const [message, setMessage] = useState('');\n  var { data } = params;\n\n  function changeCommentDelete() {\n    commentDelete ? setCommentDelete(false) : setCommentDelete(true);\n  }\n\n  function deleteComment() {\n    fetch(`/blog/posts/${params.articleId}/comments/${data._id}`, {\n      mode: 'cors',\n      method: 'DELETE',\n      headers: {\n        Authorization: localStorage.getItem('token'),\n      },\n    })\n      .then((response) => response.json())\n      .then((results) => {\n        if (results.message) {\n          setMessage(results.message);\n        }\n      })\n      .catch((error) => console.log(error));\n  }\n\n  if (message === '') {\n    return (\n      <div key={data._id} className=\"comment\">\n        <h4>{data.name}</h4>\n        <p>{data.content}</p>\n        <p id=\"commenttimestamp\">\n          {DateTime.fromISO(data.timestamp).toLocaleString({\n            day: 'numeric',\n            month: 'long',\n            hour: 'numeric',\n            hour12: false,\n            minute: 'numeric',\n          })}\n        </p>\n        <div className=\"commentbuttons\">\n          <button onClick={changeCommentDelete}>\n            {commentDelete ? <CloseRoundedIcon /> : <DeleteRoundedIcon />}\n          </button>\n          {commentDelete ? (\n            <button onClick={deleteComment}>Confirm</button>\n          ) : (\n            ''\n          )}\n        </div>\n      </div>\n    );\n  } else {\n    return <h4>{message}</h4>;\n  }\n}\n","import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { DateTime } from 'luxon';\nimport Comment from './Comment';\n\nfunction ArticleDetail() {\n  const [title, setTitle] = useState('');\n  const [author, setAuthor] = useState('');\n  const [timestamp, setTimestamp] = useState('');\n  const [content, setContent] = useState('');\n  const [comments, setComments] = useState([]);\n  const [error, setError] = useState(null);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const { id } = useParams();\n\n  useEffect(() => {\n    fetch(`/blog/posts/${id}`, {\n      mode: 'cors',\n      method: 'GET',\n    })\n      .then((response) => response.json())\n      .then((result) => {\n        let { post } = result;\n        setTitle(post.title);\n        setAuthor(`${post.author.firstname} ${post.author.lastname}`);\n        setTimestamp(\n          DateTime.fromISO(post.timestamp).toLocaleString({\n            day: 'numeric',\n            month: 'long',\n            hour: 'numeric',\n            hour12: false,\n            minute: 'numeric',\n          })\n        );\n        setContent(post.content);\n        setIsLoaded(true);\n      })\n      .catch((error) => {\n        setError(error);\n        console.log(error);\n        setIsLoaded(true);\n      });\n    fetch(`/blog/posts/${id}/comments`, {\n      mode: 'cors',\n      method: 'GET',\n    })\n      .then((response) => response.json())\n      .then((results) => {\n        if (results.error) {\n          return;\n        } else {\n          setComments(results);\n        }\n      })\n      .catch((error) => {\n        setError(error);\n        console.log(error);\n      });\n  }, [id]);\n\n  if (error) {\n    return (\n      <div id=\"error\">\n        <h1>An error occured!</h1>\n        <p>Try reloading the page.</p>\n      </div>\n    );\n  } else if (!isLoaded) {\n    return (\n      <div id=\"loading\">\n        <h1>Loading content...</h1>\n      </div>\n    );\n  } else {\n    return (\n      <div id=\"container\">\n        <div id=\"content\">\n          <h1>{title}</h1>\n          <h2>{author}</h2>\n          <h4>Posted on {timestamp}</h4>\n          <p id=\"articletext\">{content}</p>\n        </div>\n        <div id=\"comments\">\n          {comments.map((comment) => {\n            return <Comment key={comment._id} articleId={id} data={comment} />;\n          })}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ArticleDetail;\n","import React, { useState } from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link,\n  Redirect,\n} from 'react-router-dom';\nimport Login from './Login';\nimport Dashboard from './Dashboard';\nimport ArticleDetail from './ArticleDetail';\n\nexport default function Routes() {\n  const [loggedIn, setLoggedIn] = useState(false);\n\n  return (\n    <Router>\n      <nav>\n        <Link to=\"/author-frontend/dashboard\">\n          <h1 className=\"pagetitle\">Nico's Blog (author)</h1>\n        </Link>\n      </nav>\n      <Switch>\n        <Route path=\"/author-frontend\" exact>\n          {loggedIn || localStorage.getItem('token') ? (\n            <Redirect to=\"/author-frontend/dashboard\" />\n          ) : (\n            <Login signal={setLoggedIn} />\n          )}\n        </Route>\n        <Route path=\"/author-frontend/dashboard\" exact>\n          {loggedIn || localStorage.getItem('token') ? (\n            <Dashboard />\n          ) : (\n            <Login signal={setLoggedIn} />\n          )}\n        </Route>\n        <Route path=\"/author-frontend/article/:id\">\n          {loggedIn || localStorage.getItem('token') ? (\n            <ArticleDetail />\n          ) : (\n            <Login signal={setLoggedIn} />\n          )}\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Routes from './router';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Routes />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}